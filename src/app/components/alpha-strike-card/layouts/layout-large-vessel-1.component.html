<!-- Header Section -->

<div class="header-section">
    <div class="vessel-header">
        <span class="alphastrike-text bolder vessel-name">{{ unit().chassis }}</span>
        <span class="vessel-model">{{ unit().model }}</span>
    </div>
    <!-- PV Box -->
    <div class="pv-box-background"></div>
    <div class="pv-box">
        <div class="pv-text alphastrike-text">{{ adjustedPV() }}</div>
        @if (basePV() != adjustedPV()) {
        <div class="base-pv-text stroke-text">Base PV: {{ basePV() }}</div>
        }
    </div>
</div>

<!-- Main Content Area -->
<div class="stats-container">
    <div class="stats-container-row">
        <!-- Row 1 Left: Stats Row - Type, Size, Thrust, Skill -->
        <div class="stats-row-container frame">
            <div class="frame-background"></div>
            <div class="frame-content">
                <div class="stats-row">
                    <span class="stat-item"><span class="as-caption">TP:</span>&nbsp;<span class="as-value">{{
                            asStats().TP }}</span></span>
                    <span class="stat-item"><span class="as-caption">SZ:</span>&nbsp;<span class="as-value">{{
                            asStats().SZ }}</span></span>
                    <span class="stat-item"><span class="as-caption">THR:</span>&nbsp;<span class="as-value">{{
                            asStats().Th }}</span></span>
                    <span class="stat-item"><span class="as-caption">SKILL:</span>&nbsp;<span
                            class="as-value">{{ skill() }}</span></span>
                </div>
            </div>
        </div>

        <!-- Row 1 Right: Era Icons -->
        <div class="era-icons">
        </div>

        <!-- Row 2 Left: Armor Row -->
        <div class="armor-damage-row frame">
            <div class="frame-background"></div>
            <div class="frame-content">
                <div class="armor-section">
                    <div class="section-label">ARMOR</div>
                    <div class="section-value">{{ armorPips() }}</div>
                </div>
                <div class="damage-section">
                    <div class="section-label">DAMAGE</div>
                    <div class="damage-track"></div>
                </div>
            </div>

            <!-- Structure Row -->
            <div class="frame-content">
                <div class="armor-section">
                    <div class="section-label">STRUCTURE</div>
                    <div class="section-value">{{ structurePips() }}</div>
                </div>
                <div class="damage-section">
                    <div class="section-label">DAMAGE</div>
                    <div class="damage-track"></div>
                </div>
            </div>
        </div>

        <!-- Row 2 Right: Damage Threshold -->
        <div class="damage-threshold-row-container frame">
            <div class="frame-background"></div>
            <div class="frame-content">
                <div class="stats-row center">
                    <span class="stat-item">
                        <span class="as-value">{{ asStats().Th }}</span>&nbsp;<span class="as-caption">DAMAGE THRESHOLD</span>
                    </span>
                </div>
            </div>
        </div>

        <!-- Row 3-4 Left: Critical Hits Box -->
        <div class="critical-hits-container">
            @switch (criticalHitsVariant()) {
            @case ('aerospace-1') {
            <as-critical-hits-aerospace-1 [forceUnit]="forceUnit()" [cardStyle]="cardStyle()" />
            }
            @case ('dropship-1') {
            <as-critical-hits-dropship-1 [forceUnit]="forceUnit()" [cardStyle]="cardStyle()" />
            }
            }
        </div>

        <!-- Row 3 Right: Unit Image -->
        <div class="fluff-image-container">
            @if (imageUrl()) {
            <img class="fluff-image" [src]="imageUrl()" alt="Unit image" />
            }
        </div>

        <!-- Row 4 Right: Specials Box -->
        @if (asStats().specials.length > 0) {
            <div class="specials-box frame">
                <div class="frame-background"></div>
                <div class="frame-content">
                    <span class="as-caption">SPECIAL:&nbsp;</span>
                    @for (item of asStats().specials; track item; let isLast = $last) {
                    <span class="special-ability as-value" (click)="onSpecialClick(item)">{{ item }}@if (!isLast) {<span class="special-separator">,</span>}</span>&nbsp;
                    }
                </div>
            </div>
        }
    </div>
</div>