<div class="dice-roller-root">
    <div class="row dice-row">
        @for (value of diceResults(); let i = $index; track i) {
        <div class="die" tabindex="0" (click)="onDieClick()" [class.rolling]="isRolling()">
            <span>{{ value === null ? '?' : value }}</span>
        </div>
        }
        @if (modifier() !== 0) {
        <div class="modifier">
            <span>{{ modifier() > 0 ? '+' : '' }}{{ modifier() }}</span>
        </div>
        }
        @if (rollFinished()) {
        <div class="sum"> = {{ diceSum() }}</div>
        }
    </div>

    <!-- overlay -->
    @if (overlayVisible()) {
    <div class="dice-overlay" (click)="onOverlayBackgroundClick()">
        <div class="dice-overlay-inner" (click)="$event.stopPropagation()">
            <div class="overlay-dice-row">
                @for (value of diceResults(); let i = $index; track i) {
                <div class="die large">
                    <span>{{ value === null ? '?' : value }}</span>
                </div>
                }
                @if (modifier() !== 0) {
                <div class="modifier large">
                    <span>{{ modifier() > 0 ? '+' : '' }}{{ modifier() }}</span>
                </div>
                }
            </div>
            @if (rollFinished()) {
            <div class="overlay-sum">{{ diceSum() }}</div>
            }
        </div>
    </div>
    }
</div>